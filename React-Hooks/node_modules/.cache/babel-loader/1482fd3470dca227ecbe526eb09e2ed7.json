{"ast":null,"code":"var _jsxFileName = \"/Users/brainilio/Desktop/Projects/Udemy_React_Course_2020_CodeStorage/React-Hooks/src/components/Ingredients/Search.js\";\nimport React from \"react\";\nimport Card from \"../UI/Card\";\nimport \"./Search.css\";\nconst Search = React.memo(props => {\n  //destructure props\n  const {\n    onLoadIngredients\n  } = props;\n  const [enteredFilter, setEnteredFilter] = React.useState(\"\"); // only fires when enteredfilter changes.\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      //query string\n      const query = enteredFilter.length === 0 ? \"\" : `?orderBy=\"title\"&equalTo=\"${enteredFilter}\"`;\n      fetch(\"https://dummyproject-35081.firebaseio.com/ingredients.json\" + query).then(response => response.json()).then(data => {\n        const loadedIngredients = [];\n\n        for (const key in data) {\n          loadedIngredients.push({\n            id: key,\n            title: data[key].title,\n            amount: data[key].amount\n          });\n        }\n\n        onLoadIngredients(loadedIngredients);\n      });\n    }, 500);\n  }, [enteredFilter, onLoadIngredients]);\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 6\n    }\n  }, \"Filter by Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: e => setEnteredFilter(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 6\n    }\n  }))));\n});\nexport default Search;","map":{"version":3,"sources":["/Users/brainilio/Desktop/Projects/Udemy_React_Course_2020_CodeStorage/React-Hooks/src/components/Ingredients/Search.js"],"names":["React","Card","Search","memo","props","onLoadIngredients","enteredFilter","setEnteredFilter","useState","useEffect","setTimeout","query","length","fetch","then","response","json","data","loadedIngredients","key","push","id","title","amount","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAO,cAAP;AAEA,MAAMC,MAAM,GAAGF,KAAK,CAACG,IAAN,CAAYC,KAAD,IAAW;AACpC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAwBD,KAA9B;AACA,QAAM,CAACE,aAAD,EAAgBC,gBAAhB,IAAoCP,KAAK,CAACQ,QAAN,CAAe,EAAf,CAA1C,CAHoC,CAKpC;;AACAR,EAAAA,KAAK,CAACS,SAAN,CAAgB,MAAM;AACrBC,IAAAA,UAAU,CAAC,MAAM;AAChB;AACA,YAAMC,KAAK,GACVL,aAAa,CAACM,MAAd,KAAyB,CAAzB,GACG,EADH,GAEI,6BAA4BN,aAAc,GAH/C;AAIAO,MAAAA,KAAK,CACJ,+DAA+DF,KAD3D,CAAL,CAGEG,IAHF,CAGQC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHrB,EAIEF,IAJF,CAIQG,IAAD,IAAU;AACf,cAAMC,iBAAiB,GAAG,EAA1B;;AACA,aAAK,MAAMC,GAAX,IAAkBF,IAAlB,EAAwB;AACvBC,UAAAA,iBAAiB,CAACE,IAAlB,CAAuB;AACtBC,YAAAA,EAAE,EAAEF,GADkB;AAEtBG,YAAAA,KAAK,EAAEL,IAAI,CAACE,GAAD,CAAJ,CAAUG,KAFK;AAGtBC,YAAAA,MAAM,EAAEN,IAAI,CAACE,GAAD,CAAJ,CAAUI;AAHI,WAAvB;AAKA;;AACDlB,QAAAA,iBAAiB,CAACa,iBAAD,CAAjB;AACA,OAdF;AAeA,KArBS,EAqBP,GArBO,CAAV;AAsBA,GAvBD,EAuBG,CAACZ,aAAD,EAAgBD,iBAAhB,CAvBH;AAyBA,sBACC;AAAS,IAAA,SAAS,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADD,eAEC;AACC,IAAA,IAAI,EAAC,MADN;AAEC,IAAA,QAAQ,EAAGmB,CAAD,IAAOjB,gBAAgB,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAFlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,CADD,CADD,CADD;AAaA,CA5Cc,CAAf;AA8CA,eAAexB,MAAf","sourcesContent":["import React from \"react\"\n\nimport Card from \"../UI/Card\"\nimport \"./Search.css\"\n\nconst Search = React.memo((props) => {\n\t//destructure props\n\tconst { onLoadIngredients } = props\n\tconst [enteredFilter, setEnteredFilter] = React.useState(\"\")\n\n\t// only fires when enteredfilter changes.\n\tReact.useEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\t//query string\n\t\t\tconst query =\n\t\t\t\tenteredFilter.length === 0\n\t\t\t\t\t? \"\"\n\t\t\t\t\t: `?orderBy=\"title\"&equalTo=\"${enteredFilter}\"`\n\t\t\tfetch(\n\t\t\t\t\"https://dummyproject-35081.firebaseio.com/ingredients.json\" + query\n\t\t\t)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tconst loadedIngredients = []\n\t\t\t\t\tfor (const key in data) {\n\t\t\t\t\t\tloadedIngredients.push({\n\t\t\t\t\t\t\tid: key,\n\t\t\t\t\t\t\ttitle: data[key].title,\n\t\t\t\t\t\t\tamount: data[key].amount,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonLoadIngredients(loadedIngredients)\n\t\t\t\t})\n\t\t}, 500)\n\t}, [enteredFilter, onLoadIngredients])\n\n\treturn (\n\t\t<section className=\"search\">\n\t\t\t<Card>\n\t\t\t\t<div className=\"search-input\">\n\t\t\t\t\t<label>Filter by Title</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonChange={(e) => setEnteredFilter(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t</section>\n\t)\n})\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}