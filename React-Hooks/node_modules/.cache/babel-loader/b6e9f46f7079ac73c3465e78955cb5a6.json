{"ast":null,"code":"import { useReducer, useCallback } from \"react\";\n\nconst HttpReducer = (currentState, action) => {\n  switch (action.type) {\n    case \"START\":\n      return {\n        loading: true,\n        error: null,\n        data: null,\n        extra: action.extra\n      };\n\n    case \"SUCCESS\":\n      return { ...currentState,\n        loading: false,\n        data: action.responseData,\n        extra: action.extra,\n        identifier: acton.identifier\n      };\n\n    case \"FAILED\":\n      return {\n        loading: false,\n        error: action.error\n      };\n\n    case \"CLEAR\":\n      return { ...currentState,\n        error: null\n      };\n\n    default:\n      throw new Error(\"Should not get there!\");\n  }\n}; //custom hook\n\n\nconst useHttp = () => {\n  const [httpstate, httpdispatch] = useReducer(HttpReducer, {\n    loading: false,\n    error: null,\n    data: null,\n    extra: null,\n    identifier: null\n  });\n  const sendRequest = useCallback((url, method, body, reqExtra, reqident) => {\n    httpdispatch({\n      type: \"START\",\n      identifier: reqidentefier\n    });\n    fetch(url, {\n      method: method,\n      body: body,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      return response.json();\n    }).then(responseData => {\n      httpdispatch({\n        type: \"SUCCESS\",\n        responseData: responseData,\n        extra: reqExtra\n      });\n    }).catch(error => {\n      httpdispatch({\n        type: \"FAILED\",\n        error: \"Something went wrong!\"\n      });\n    });\n  }, []);\n  return {\n    isLoading: httpstate.loading,\n    data: httpstate.data,\n    error: httpstate.error,\n    sendRequest: sendRequest,\n    reqExtra: httpstate.extra\n  };\n};\n\nexport default useHttp;","map":{"version":3,"sources":["/Users/brainilio/Desktop/Projects/Udemy_React_Course_2020_CodeStorage/React-Hooks/src/hooks/http.js"],"names":["useReducer","useCallback","HttpReducer","currentState","action","type","loading","error","data","extra","responseData","identifier","acton","Error","useHttp","httpstate","httpdispatch","sendRequest","url","method","body","reqExtra","reqident","reqidentefier","fetch","headers","then","response","json","catch","isLoading"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,WAArB,QAAwC,OAAxC;;AAEA,MAAMC,WAAW,GAAG,CAACC,YAAD,EAAeC,MAAf,KAA0B;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACC,SAAK,OAAL;AACC,aAAO;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,KAAK,EAAE,IAAxB;AAA8BC,QAAAA,IAAI,EAAE,IAApC;AAA0CC,QAAAA,KAAK,EAAEL,MAAM,CAACK;AAAxD,OAAP;;AACD,SAAK,SAAL;AACC,aAAO,EAAE,GAAGN,YAAL;AAAmBG,QAAAA,OAAO,EAAE,KAA5B;AAAmCE,QAAAA,IAAI,EAAEJ,MAAM,CAACM,YAAhD;AAA8DD,QAAAA,KAAK,EAAEL,MAAM,CAACK,KAA5E;AACKE,QAAAA,UAAU,EAAEC,KAAK,CAACD;AADvB,OAAP;;AAED,SAAK,QAAL;AACC,aAAO;AAAEL,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,KAAK,EAAEH,MAAM,CAACG;AAAhC,OAAP;;AACD,SAAK,OAAL;AACC,aAAO,EAAE,GAAGJ,YAAL;AAAmBI,QAAAA,KAAK,EAAE;AAA1B,OAAP;;AACD;AACC,YAAM,IAAIM,KAAJ,CAAU,uBAAV,CAAN;AAXF;AAaA,CAdD,C,CAgBA;;;AACA,MAAMC,OAAO,GAAG,MAAM;AACrB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BhB,UAAU,CAACE,WAAD,EAAc;AACzDI,IAAAA,OAAO,EAAE,KADgD;AAEzDC,IAAAA,KAAK,EAAE,IAFkD;AAGzDC,IAAAA,IAAI,EAAE,IAHmD;AAIjDC,IAAAA,KAAK,EAAE,IAJ0C;AAKjDE,IAAAA,UAAU,EAAE;AALqC,GAAd,CAA5C;AAQA,QAAMM,WAAW,GAAIhB,WAAW,CAAC,CAACiB,GAAD,EAAMC,MAAN,EAAcC,IAAd,EAAoBC,QAApB,EAA8BC,QAA9B,KAA2C;AAC3EN,IAAAA,YAAY,CAAC;AAAEX,MAAAA,IAAI,EAAE,OAAR;AAAiBM,MAAAA,UAAU,EAAEY;AAA7B,KAAD,CAAZ;AAEAC,IAAAA,KAAK,CAACN,GAAD,EAAM;AACVC,MAAAA,MAAM,EAAEA,MADE;AAEVC,MAAAA,IAAI,EAAEA,IAFI;AAGVK,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR;AAHC,KAAN,CAAL,CAOEC,IAPF,CAOQC,QAAD,IAAc;AACnB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACA,KATF,EAUEF,IAVF,CAUQhB,YAAD,IAAkB;AACvBM,MAAAA,YAAY,CAAC;AAAEX,QAAAA,IAAI,EAAE,SAAR;AAAmBK,QAAAA,YAAY,EAAEA,YAAjC;AAA+CD,QAAAA,KAAK,EAAEY;AAAtD,OAAD,CAAZ;AACA,KAZF,EAaEQ,KAbF,CAaStB,KAAD,IAAW;AACjBS,MAAAA,YAAY,CAAC;AAAEX,QAAAA,IAAI,EAAE,QAAR;AAAkBE,QAAAA,KAAK,EAAE;AAAzB,OAAD,CAAZ;AACA,KAfF;AAgBA,GAnB+B,EAmB7B,EAnB6B,CAAhC;AAqBA,SAAO;AACNuB,IAAAA,SAAS,EAAEf,SAAS,CAACT,OADf;AAENE,IAAAA,IAAI,EAAEO,SAAS,CAACP,IAFV;AAGED,IAAAA,KAAK,EAAEQ,SAAS,CAACR,KAHnB;AAIEU,IAAAA,WAAW,EAAEA,WAJf;AAKEI,IAAAA,QAAQ,EAAEN,SAAS,CAACN;AALtB,GAAP;AAOA,CArCD;;AAuCA,eAAeK,OAAf","sourcesContent":["import { useReducer, useCallback } from \"react\"\n\nconst HttpReducer = (currentState, action) => {\n\tswitch (action.type) {\n\t\tcase \"START\":\n\t\t\treturn { loading: true, error: null, data: null, extra: action.extra }\n\t\tcase \"SUCCESS\":\n\t\t\treturn { ...currentState, loading: false, data: action.responseData, extra: action.extra, \n               identifier: acton.identifier }\n\t\tcase \"FAILED\":\n\t\t\treturn { loading: false, error: action.error }\n\t\tcase \"CLEAR\":\n\t\t\treturn { ...currentState, error: null }\n\t\tdefault:\n\t\t\tthrow new Error(\"Should not get there!\")\n\t}\n}\n\n//custom hook\nconst useHttp = () => {\n\tconst [httpstate, httpdispatch] = useReducer(HttpReducer, {\n\t\tloading: false,\n\t\terror: null,\n\t\tdata: null,\n          extra: null, \n          identifier: null\n\t})\n\n\tconst sendRequest =  useCallback((url, method, body, reqExtra, reqident) => {\n\t\thttpdispatch({ type: \"START\", identifier: reqidentefier\n                         })\n\t\tfetch(url, {\n\t\t\tmethod: method,\n\t\t\tbody: body,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json()\n\t\t\t})\n\t\t\t.then((responseData) => {\n\t\t\t\thttpdispatch({ type: \"SUCCESS\", responseData: responseData, extra: reqExtra })\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\thttpdispatch({ type: \"FAILED\", error: \"Something went wrong!\" })\n\t\t\t})\n\t}, [])\n\n\treturn {\n\t\tisLoading: httpstate.loading,\n\t\tdata: httpstate.data,\n          error: httpstate.error,\n          sendRequest: sendRequest, \n          reqExtra: httpstate.extra\n\t}\n}\n\nexport default useHttp\n"]},"metadata":{},"sourceType":"module"}